<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Toronto Crash Visualization</title>

	<!-- bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- custom css -->
	<link rel="stylesheet" href="css/style.css">

	<!-- GOOGLE FONTS -->
	<link href="https://fonts.googleapis.com/css2?family=Overpass:wght@800&display=swap" rel="stylesheet">
</head>
<body>

<header class="d-flex justify-content-center align-items-center" style="position: relative;">
	<h1>Toronto Collisions Map</h1>
	<button id="infoButton" style="position: absolute; right: 20px; background: none; border: none; cursor: pointer; font-size: 24px; color: #000; padding: 5px 10px; border-radius: 50%; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s ease;" onmouseover="this.style.backgroundColor='#e0e0e0'" onmouseout="this.style.backgroundColor='transparent'">ℹ</button>
</header>
<!-- Main Container -->
<div id="main-container" class="container rounded shadow p-3">
	<div class="row">
		<!-- Map Visualization -->
		<div id="mapDiv" class="col-9 rounded"></div>

		<!-- Options Panel -->
		<div id="options-panel" class="col-3 rounded shadow-sm p-3">
			<div class="options-title mb-3">Filters</div>

			<div class="filter-option mb-2">
				<input type="checkbox" id="filter-fatal" checked>
				<label for="filter-fatal" class="d-flex align-items-center">
					<span class="filter-indicator me-2"></span>
					<span class="filter-label me-auto">Fatal</span>
					<span class="filter-checkbox fatal"></span>
				</label>
			</div>

			<div class="filter-option mb-2">
				<input type="checkbox" id="filter-major" checked>
				<label for="filter-major" class="d-flex align-items-center">
					<span class="filter-indicator me-2"></span>
					<span class="filter-label me-auto">Major</span>
					<span class="filter-checkbox major"></span>
				</label>
			</div>

			<div class="filter-option mb-2">
				<input type="checkbox" id="filter-minor" checked>
				<label for="filter-minor" class="d-flex align-items-center">
					<span class="filter-indicator me-2"></span>
					<span class="filter-label me-auto">Minor</span>
					<span class="filter-checkbox minor"></span>
				</label>
			</div>

			<div class="filter-option mb-2">
				<input type="checkbox" id="filter-minimal" checked>
				<label for="filter-minimal" class="d-flex align-items-center">
					<span class="filter-indicator me-2"></span>
					<span class="filter-label me-auto">Minimal</span>
					<span class="filter-checkbox minimal"></span>
				</label>
			</div>

			<div class="d-flex gap-2 mt-3" style="gap: 8px;">
				<button id="playButton" class="btn btn-primary" style="width: 55px; height: 40px; padding: 0; font-weight: 700; border-radius: 8px; background-color: #000; border: 1px solid #000; color: #fff; transition: background-color 0.2s ease; display: flex; align-items: center; justify-content: center; font-size: 16px; cursor: pointer;">▶</button>
				<button id="improvementsButton" class="btn btn-primary flex-grow-1" style="height: 40px; padding: 10px; font-weight: 700; border-radius: 8px; background-color: #000; border: 1px solid #000; color: #fff; transition: background-color 0.2s ease; cursor: pointer;">Improvements</button>
			</div>

			<div class="mt-4">
				<h6 class="fw-bold">Top Neighborhoods by Collision Count</h6>
				<div id="locationChart"></div>
			</div>
		</div>
	</div>

	<div class="row mt-3">
		<div class="col-9">
			<div id="timelineDiv" class="rounded"></div>
		</div>
		<div class="col-3 d-flex align-items-center justify-content-end">
		</div>
	</div>
</div>

<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- Visualization Classes -->
<script src="js/crashPointsVis.js"></script>
<script src="js/mapVis.js"></script>
<script src="js/timelineVis.js"></script>
<script src="js/locationChart.js"></script>
<script src="js/improvementsVis.js"></script>
<script src="js/main.js"></script>
</body>
</html>
